<!DOCTYPE html>
<html>
<head>
    <title>Чаты</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='Chat.css') }}">
</head>
<body>
<div id="chat-list">
    <h2>Список чатов</h2>
    <ul>
        <li><a href="#" data-chat-id="1">Чат 1</a></li>
        <li><a href="#" data-chat-id="2">Чат 2</a></li>
        <li><a href="#" data-chat-id="3">Чат 3</a></li>
    </ul>
    <button id="add-chat-btn">Добавить чат</button>
</div>
<div id="chat-window">
    <h2>Выбранный чат</h2>
    <div class="chat active-chat" data-chat-id="1">
        Содержимое чата 1
    </div>
    <div class="chat" data-chat-id="2">
        Содержимое чата 2
    </div>
    <div class="chat" data-chat-id="3">
        Содержимое чата 3
    </div>
</div>
<script>
    chatList = document.querySelector('#chat-list ul');
    chatWindow = document.querySelector('#chat-window');
    addChatBtn = document.querySelector('#add-chat-btn');
    let chatId = 3;

    addChatBtn.addEventListener('click', e => {
        e.preventDefault();
        chatId++;
        const newChatLink = document.createElement('a');
        newChatLink.href = '#';
        newChatLink.setAttribute('data-chat-id', chatId);
        newChatLink.textContent = `Чат ${chatId}`;
        const newChatLi = document.createElement('li');
        newChatLi.appendChild(newChatLink);
        chatList.appendChild(newChatLi);

        const newChatDiv = document.createElement('div');
        newChatDiv.classList.add('chat');
        newChatDiv.setAttribute('data-chat-id', chatId);
        newChatDiv.textContent = `Содержимое чата ${chatId}`;
        chatWindow.appendChild(newChatDiv);

        newChatLink.addEventListener('click', e => {
            e.preventDefault();
            const chatId = newChatLink.getAttribute('data-chat-id');
            chats.forEach(chat => {
                if (chat.getAttribute('data-chat-id') === chatId) {
                    chat.classList.add('active-chat');
                } else {
                    chat.classList.remove('active-chat');
                }
            });
        });

        chats = document.querySelectorAll('.chat');
    });

    chatLinks.forEach(chatLink => {
        chatLink.addEventListener('click', e => {
            e.preventDefault();
            const chatId = chatLink.getAttribute('data-chat-id');
            chats.forEach(chat => {
                if (chat.getAttribute('data-chat-id') === chatId) {
                    chat.classList.add('active-chat');
                } else {
                    chat.classList.remove('active-chat');
                }
            });
        });
    });
</script>
</body>
</html>

